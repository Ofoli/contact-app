{"ast":null,"code":"var _jsxFileName = \"/Users/ofoli/Documents/projects/contact-app/src/components/EditContact.tsx\";\nimport { Component } from \"react\";\nimport { Consumer } from \"../context/context\";\nimport TextInputGroup from \"../layout/TextInputGroup\";\nimport { fetchContactRequest } from \"../requests/request\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass EditContact extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      id: \"\",\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      errors: null\n    };\n    this.onSubmit = async (e, dispatch) => {\n      e.preventDefault();\n      const {\n        name,\n        email,\n        phone\n      } = this.state;\n\n      // Check For Errors\n      if (name === \"\") {\n        this.setState({\n          errors: {\n            name: \"Name is required\"\n          }\n        });\n        return;\n      }\n      if (email === \"\") {\n        this.setState({\n          errors: {\n            email: \"Email is required\"\n          }\n        });\n        return;\n      }\n      if (phone === \"\") {\n        this.setState({\n          errors: {\n            phone: \"Phone is required\"\n          }\n        });\n        return;\n      }\n      const updContact = {\n        name,\n        email,\n        phone\n      };\n\n      // const { id } = this.props.match.params;\n\n      const res = await axios.put(`https://jsonplaceholder.typicode.com/users/${\"id\"}`, updContact);\n      dispatch({\n        type: \"UPDATE_CONTACT\",\n        payload: res.data\n      });\n\n      // Clear State\n      this.setState({\n        name: \"\",\n        email: \"\",\n        phone: \"\",\n        errors: {}\n      });\n\n      // this.props.history.push(\"/\");\n    };\n    this.handleChange = e => this.setState({\n      [e.currentTarget.name]: e.currentTarget.value\n    });\n  }\n  async componentDidMount() {\n    // const { id } = this.props.match.params;\n    const id = \"1\";\n    const contact = await fetchContactRequest(id);\n    if (contact !== undefined) {\n      this.setState({\n        name: contact.name,\n        email: contact.email,\n        phone: contact.phone\n      });\n    }\n  }\n  render() {\n    const {\n      name,\n      email,\n      phone,\n      errors\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(Consumer, {\n      children: value => {\n        const {\n          dispatch\n        } = value;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: \"Edit Contact\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: e => this.onSubmit.bind(dispatch),\n              children: [/*#__PURE__*/_jsxDEV(TextInputGroup, {\n                type: \"text\",\n                label: \"Name\",\n                name: \"name\",\n                placeholder: \"Enter Name\",\n                value: name,\n                onChange: this.handleChange,\n                error: errors === null || errors === void 0 ? void 0 : errors.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TextInputGroup, {\n                label: \"Email\",\n                name: \"email\",\n                type: \"email\",\n                placeholder: \"Enter Email\",\n                value: email,\n                onChange: this.handleChange,\n                error: errors === null || errors === void 0 ? void 0 : errors.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TextInputGroup, {\n                label: \"Phone\",\n                name: \"phone\",\n                type: \"number\",\n                placeholder: \"Enter Phone\",\n                value: phone,\n                onChange: this.handleChange,\n                error: errors === null || errors === void 0 ? void 0 : errors.phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"submit\",\n                value: \"Update Contact\",\n                className: \"btn btn-light btn-block\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default EditContact;","map":{"version":3,"names":["Component","Consumer","TextInputGroup","fetchContactRequest","EditContact","state","id","name","email","phone","errors","onSubmit","e","dispatch","preventDefault","setState","updContact","res","axios","put","type","payload","data","handleChange","currentTarget","value","componentDidMount","contact","undefined","render","bind"],"sources":["/Users/ofoli/Documents/projects/contact-app/src/components/EditContact.tsx"],"sourcesContent":["import { Component } from \"react\";\nimport { RouteProps } from \"react-router-dom\";\nimport { Consumer } from \"../context/context\";\nimport TextInputGroup from \"../layout/TextInputGroup\";\nimport { fetchContactRequest } from \"../requests/request\";\n\ninterface EditContactState extends ContactProp {\n  errors: { name: string; email: string; phone: string } | null;\n}\n\ninterface EditContactProps extends RouteProps {}\n\nclass EditContact extends Component {\n  state: EditContactState = {\n    id: \"\",\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    errors: null,\n  };\n\n  async componentDidMount() {\n    // const { id } = this.props.match.params;\n    const id = \"1\";\n    const contact = await fetchContactRequest(id);\n\n    if (contact !== undefined) {\n      this.setState({\n        name: contact.name,\n        email: contact.email,\n        phone: contact.phone,\n      });\n    }\n  }\n\n  onSubmit = async (e: ChangeEventType, dispatch: DispatchType) => {\n    e.preventDefault();\n\n    const { name, email, phone } = this.state;\n\n    // Check For Errors\n    if (name === \"\") {\n      this.setState({ errors: { name: \"Name is required\" } });\n      return;\n    }\n\n    if (email === \"\") {\n      this.setState({ errors: { email: \"Email is required\" } });\n      return;\n    }\n\n    if (phone === \"\") {\n      this.setState({ errors: { phone: \"Phone is required\" } });\n      return;\n    }\n\n    const updContact = {\n      name,\n      email,\n      phone,\n    };\n\n    // const { id } = this.props.match.params;\n\n    const res = await axios.put(\n      `https://jsonplaceholder.typicode.com/users/${\"id\"}`,\n      updContact\n    );\n\n    dispatch({ type: \"UPDATE_CONTACT\", payload: res.data });\n\n    // Clear State\n    this.setState({\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      errors: {},\n    });\n\n    // this.props.history.push(\"/\");\n  };\n\n  handleChange = (e: ChangeEventType) =>\n    this.setState({ [e.currentTarget.name]: e.currentTarget.value });\n\n  render() {\n    const { name, email, phone, errors } = this.state;\n\n    return (\n      <Consumer>\n        {(value) => {\n          const { dispatch } = value;\n          return (\n            <div className=\"card mb-3\">\n              <div className=\"card-header\">Edit Contact</div>\n              <div className=\"card-body\">\n                <form onSubmit={(e) => this.onSubmit.bind(dispatch)}>\n                  <TextInputGroup\n                    type=\"text\"\n                    label=\"Name\"\n                    name=\"name\"\n                    placeholder=\"Enter Name\"\n                    value={name}\n                    onChange={this.handleChange}\n                    error={errors?.name}\n                  />\n                  <TextInputGroup\n                    label=\"Email\"\n                    name=\"email\"\n                    type=\"email\"\n                    placeholder=\"Enter Email\"\n                    value={email}\n                    onChange={this.handleChange}\n                    error={errors?.email}\n                  />\n                  <TextInputGroup\n                    label=\"Phone\"\n                    name=\"phone\"\n                    type=\"number\"\n                    placeholder=\"Enter Phone\"\n                    value={phone}\n                    onChange={this.handleChange}\n                    error={errors?.phone}\n                  />\n                  <input\n                    type=\"submit\"\n                    value=\"Update Contact\"\n                    className=\"btn btn-light btn-block\"\n                  />\n                </form>\n              </div>\n            </div>\n          );\n        }}\n      </Consumer>\n    );\n  }\n}\n\nexport default EditContact;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}