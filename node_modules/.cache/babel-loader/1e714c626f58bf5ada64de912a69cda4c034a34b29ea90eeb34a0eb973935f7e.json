{"ast":null,"code":"var _jsxFileName = \"/Users/ofoli/Documents/projects/contact-app/src/context/context.tsx\";\nimport { Component, createContext } from \"react\";\nimport { fetchAllContactsRequest } from \"../requests/request\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Context = /*#__PURE__*/createContext({\n  contacts: [],\n  dispatch: () => null\n});\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"DELETE_CONTACT\":\n      return {\n        ...state,\n        contacts: state.contacts.filter(contact => contact.id !== action.payload)\n      };\n    case \"ADD_CONTACT\":\n      return {\n        ...state,\n        contacts: [action.payload, ...state.contacts]\n      };\n    case \"UPDATE_CONTACT\":\n      return {\n        ...state,\n        contacts: state.contacts.map(contact => contact.id === action.payload.id ? contact = action.payload : contact)\n      };\n    default:\n      return state;\n  }\n};\nexport class Provider extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      contacts: [],\n      dispatch: action => this.setState(state => reducer(state, action))\n    };\n  }\n  async componentDidMount() {\n    const res = await fetchAllContactsRequest();\n    if (res !== undefined) this.setState({\n      contacts: res\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(Context.Provider, {\n      value: this.state,\n      children: this.props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport const Consumer = Context.Consumer;","map":{"version":3,"names":["Component","createContext","fetchAllContactsRequest","Context","contacts","dispatch","reducer","state","action","type","filter","contact","id","payload","map","Provider","setState","componentDidMount","res","undefined","render","props","children","Consumer"],"sources":["/Users/ofoli/Documents/projects/contact-app/src/context/context.tsx"],"sourcesContent":["import { Component, createContext } from \"react\";\nimport { fetchAllContactsRequest } from \"../requests/request\";\n\ninterface ContextState {\n  contacts: ContactProp[];\n  dispatch: DispatchType;\n}\n\ninterface contextProp {\n  value?: ContextState;\n  children: JSX.Element;\n}\n\nconst Context = createContext<ContextState>({\n  contacts: [],\n  dispatch: () => null,\n});\n\nconst reducer = (state: ContextState, action: Action) => {\n  switch (action.type) {\n    case \"DELETE_CONTACT\":\n      return {\n        ...state,\n        contacts: state.contacts.filter(\n          (contact) => contact.id !== action.payload\n        ),\n      };\n    case \"ADD_CONTACT\":\n      return {\n        ...state,\n        contacts: [action.payload, ...state.contacts],\n      };\n    case \"UPDATE_CONTACT\":\n      return {\n        ...state,\n        contacts: state.contacts.map((contact) =>\n          contact.id === action.payload.id\n            ? (contact = action.payload)\n            : contact\n        ),\n      };\n    default:\n      return state;\n  }\n};\n\nexport class Provider extends Component<contextProp, ContextState> {\n  state: ContextState = {\n    contacts: [],\n    dispatch: (action: Action) =>\n      this.setState((state) => reducer(state, action)),\n  };\n\n  async componentDidMount() {\n    const res = await fetchAllContactsRequest();\n    if (res !== undefined) this.setState({ contacts: res });\n  }\n\n  render() {\n    return (\n      <Context.Provider value={this.state}>\n        {this.props.children}\n      </Context.Provider>\n    );\n  }\n}\n\nexport const Consumer = Context.Consumer;\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,aAAa,QAAQ,OAAO;AAChD,SAASC,uBAAuB,QAAQ,qBAAqB;AAAC;AAY9D,MAAMC,OAAO,gBAAGF,aAAa,CAAe;EAC1CG,QAAQ,EAAE,EAAE;EACZC,QAAQ,EAAE,MAAM;AAClB,CAAC,CAAC;AAEF,MAAMC,OAAO,GAAG,CAACC,KAAmB,EAAEC,MAAc,KAAK;EACvD,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,gBAAgB;MACnB,OAAO;QACL,GAAGF,KAAK;QACRH,QAAQ,EAAEG,KAAK,CAACH,QAAQ,CAACM,MAAM,CAC5BC,OAAO,IAAKA,OAAO,CAACC,EAAE,KAAKJ,MAAM,CAACK,OAAO;MAE9C,CAAC;IACH,KAAK,aAAa;MAChB,OAAO;QACL,GAAGN,KAAK;QACRH,QAAQ,EAAE,CAACI,MAAM,CAACK,OAAO,EAAE,GAAGN,KAAK,CAACH,QAAQ;MAC9C,CAAC;IACH,KAAK,gBAAgB;MACnB,OAAO;QACL,GAAGG,KAAK;QACRH,QAAQ,EAAEG,KAAK,CAACH,QAAQ,CAACU,GAAG,CAAEH,OAAO,IACnCA,OAAO,CAACC,EAAE,KAAKJ,MAAM,CAACK,OAAO,CAACD,EAAE,GAC3BD,OAAO,GAAGH,MAAM,CAACK,OAAO,GACzBF,OAAO;MAEf,CAAC;IACH;MACE,OAAOJ,KAAK;EAAC;AAEnB,CAAC;AAED,OAAO,MAAMQ,QAAQ,SAASf,SAAS,CAA4B;EAAA;IAAA;IAAA,KACjEO,KAAK,GAAiB;MACpBH,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAGG,MAAc,IACvB,IAAI,CAACQ,QAAQ,CAAET,KAAK,IAAKD,OAAO,CAACC,KAAK,EAAEC,MAAM,CAAC;IACnD,CAAC;EAAA;EAED,MAAMS,iBAAiB,GAAG;IACxB,MAAMC,GAAG,GAAG,MAAMhB,uBAAuB,EAAE;IAC3C,IAAIgB,GAAG,KAAKC,SAAS,EAAE,IAAI,CAACH,QAAQ,CAAC;MAAEZ,QAAQ,EAAEc;IAAI,CAAC,CAAC;EACzD;EAEAE,MAAM,GAAG;IACP,oBACE,QAAC,OAAO,CAAC,QAAQ;MAAC,KAAK,EAAE,IAAI,CAACb,KAAM;MAAA,UACjC,IAAI,CAACc,KAAK,CAACC;IAAQ;MAAA;MAAA;MAAA;IAAA,QACH;EAEvB;AACF;AAEA,OAAO,MAAMC,QAAQ,GAAGpB,OAAO,CAACoB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}